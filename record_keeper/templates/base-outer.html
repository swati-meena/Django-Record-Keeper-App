{% load static %}
<!DOCTYPE html>
<html>

<head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<title>Tables - Dashboard</title>
	<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no'
		name='viewport' />
	<link rel="stylesheet" href="{% static 'assets/css/bootstrap.min.css' %}">
	<link rel="stylesheet"
		href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i">
	<link rel="stylesheet" href="{% static 'assets/css/ready.css' %}">
	<link rel="stylesheet" href="{% static 'assets/css/demo.css' %}">
	<style>
        body {
            font-family: 'nunito', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f0f0;
            text-align: center;
            font-size: 14px; /* Set default font size */
            color: #555; /* Set default text color */
            font-weight: 500;
        }

        .container {
            max-width: 400px;
            margin: 50px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        h1 {
            margin-bottom: 20px;
        }

        form {
            margin-top: 20px;
            text-align: left; /* Align form fields to the left */
        }

        form input[type="text"],
        form input[type="password"] {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-sizing: border-box;
        }

          form button {
          font-family: "nunito", sans-serif;
          text-transform: uppercase;
          outline: 0;
          background-color: #007bff;
          width: 100%;
          border: 0;
          padding: 15px;
          color: #fff;
          font-size: 14px;
          -webkit-transition: all 0.3 ease;
          transition: all 0.3 ease;
          cursor: pointer;
        }
        form button:hover,.form button:active,.form button:focus {
          background-color: #0056b3;
        }

        form a {
            display: block;
            margin-top: 10px;
            text-decoration: none;
            color: #555;
            text-align: center;
        }
    </style>
</head>

<body>
	<div class="wrapper">
		{% block content %}
		{% endblock %}
	</div>

</body>
<script src="{% static 'assets/js/core/jquery.3.2.1.min.js' %}"></script>
<script src="{% static 'assets/js/plugin/jquery-ui-1.12.1.custom/jquery-ui.min.js' %}"></script>
<script src="{% static 'assets/js/core/popper.min.js' %}"></script>
<script src="{% static 'assets/js/core/bootstrap.min.js' %}"></script>
<script src="{% static 'assets/js/plugin/chartist/chartist.min.js' %}"></script>
<script src="{% static 'assets/js/plugin/chartist/plugin/chartist-plugin-tooltip.min.js' %}"></script>
<script src="{% static 'assets/js/plugin/bootstrap-notify/bootstrap-notify.min.js' %}"></script>
<script src="{% static 'assets/js/plugin/bootstrap-toggle/bootstrap-toggle.min.js' %}"></script>
<script src="{% static 'assets/js/plugin/jquery-mapael/jquery.mapael.min.js' %}"></script>
<script src="{% static 'assets/js/plugin/jquery-mapael/maps/world_countries.min.js' %}"></script>
<script src="{% static 'assets/js/plugin/chart-circle/circles.min.js' %}"></script>
<script src="{% static 'assets/js/plugin/jquery-scrollbar/jquery.scrollbar.min.js' %}"></script>
<script src="{% static 'assets/js/ready.min.js' %}"></script>

<script>
	$('#displayNotif').on('click', function () {
		var placementFrom = $('#notify_placement_from option:selected').val();
		var placementAlign = $('#notify_placement_align option:selected').val();
		var state = $('#notify_state option:selected').val();
		var style = $('#notify_style option:selected').val();
		var content = {};

		content.message = 'Turning standard Bootstrap alerts into "notify" like notifications';
		content.title = 'Bootstrap notify';
		if (style == "withicon") {
			content.icon = 'la la-bell';
		} else {
			content.icon = 'none';
		}
		content.url = 'index.html';
		content.target = '_blank';

		$.notify(content, {
			type: state,
			placement: {
				from: placementFrom,
				align: placementAlign
			},
			time: 1000,
		});
	});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootbox.js/6.0.0/bootbox.min.js"></script>

<script>
	document.addEventListener('DOMContentLoaded', function () {
		const deleteButtons = document.querySelectorAll('.delete-button');
		deleteButtons.forEach(button => {
			button.addEventListener('click', function (event) {
				event.preventDefault();
				const itemId = button.dataset.itemId;
				const csrfToken = button.dataset.csrfToken;

				bootbox.confirm({
				    message: "Are you sure you want to delete this record?",
				    buttons: {
				        confirm: {
				            label: 'Yes',
				            className: 'btn-danger'
				        },
				        cancel: {
				            label: 'No',
				            className: 'btn-secondary'
				        }
				    },
				    callback: function (result) {
				        if (result) {
				            // If the user confirms, make an AJAX request to delete the record
				            fetch('{% url "record_delete" 0 %}'.replace('0', itemId), {
				                method: 'POST',
				                headers: {
				                    'Content-Type': 'application/json',
				                    'X-CSRFToken': csrfToken
				                },
				                body: JSON.stringify({ id: itemId })
				            })
				                .then(response => {
				                    if (response.ok) {
				                        // Reload the page after successful deletion
				                        location.reload();
				                    } else {
				                        // Handle error response
				                        console.error('Error deleting record');
				                    }
				                })
				                .catch(error => {
				                    console.error('Error deleting record:', error);
				                });
				        }
				    }
				});
			});
		});
	});
</script>

</html>